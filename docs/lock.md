# 线程锁   

### 重量级锁

当一个线程进入同步、线程安全的方法中时。其他线程再想进入该方法，就会因为获不到锁而进入阻塞状态。这种锁叫做重量级锁。

### 自旋锁   

因为进入阻塞和唤醒状态，需要保存线程此时的执行状态，上下文等数据，还涉及到用户态到内核态的转换。会消耗大量的资源。

所以在拿不到锁的时候，不马上进入阻塞状态。先执行空循环，循环完还拿不到锁才进入阻塞状态。这种锁就是自旋锁。   

### 自适应自旋锁   

自适应自旋锁是自旋锁的升级版，它不需要手动指定循环次数。而是根据之前拿到锁的频率来决定循环的次数。拿到的频率越高，循环的次数就越多。   

###  轻量级锁

对于很少有并发情况的方法，使用锁会造成不必要的资源消耗。轻量锁则是在进入方法的时候做一个标记（使用CAS机制做标记），退出方法的。



loading    印象笔记

<https://blog.csdn.net/tongdanping/article/details/79647337>



